<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>シンプル棒グラフ例</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="clearChart"></canvas>
  <script>
    // サンプルデータ
    const dataRecords = [
      { date: '2023-08-01', name: 'チョコキングダム' },
      { date: '2023-08-01', name: 'バナナキングダム' },
      { date: '2023-08-05', name: 'キノピオハイウェイ' },
      { date: '2023-08-13', name: 'ヘイホービーチ' },
      { date: '2023-08-19', name: 'サンセットこうや' }
    ];

    // 日付ごとに件数をカウント
    const counts = dataRecords.reduce((acc, rec) => {
      acc[rec.date] = (acc[rec.date] || 0) + 1;
      return acc;
    }, {});

    // グラフ用データ作成
    const labels = Object.keys(counts);
    const values = labels.map(d => counts[d]);

    // Chart.js 設定
    new Chart(document.getElementById('clearChart'), {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: '1日あたりクリア数',
          data: values,
          backgroundColor: 'rgba(25,118,210,0.5)',
          borderColor: '#1976d2',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          x: { title: { display: true, text: '日付' } },
          y: { beginAtZero: true, title: { display: true, text: 'クリア数' } }
        }
      }
    });
  </script>
</body>
</html>
